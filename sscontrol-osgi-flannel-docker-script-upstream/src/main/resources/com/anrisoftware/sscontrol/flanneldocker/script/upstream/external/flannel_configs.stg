flannelConfig(parent, vars) ::= <<
###
# Flanneld configuration options
# Authors
# https://koji.fedoraproject.org/koji/buildinfo?buildID=835476

# etcd url location.  Point this to the server where etcd runs
FLANNEL_ETCD_ENDPOINTS="<parent.service.etcd.endpoints;separator=",">"

# etcd certificates.
<if(parent.service.etcd&&parent.service.etcd.tls.key)>FLANNELD_ETCD_KEYFILE="<parent.certsDir>/<parent.service.etcd.tls.keyName>"<else>FLANNELD_ETCD_KEYFILE=""<endif>
<if(parent.service.etcd&&parent.service.etcd.tls.cert)>FLANNELD_ETCD_CERTFILE="<parent.certsDir>/<parent.service.etcd.tls.certName>"<else>FLANNELD_ETCD_CERTFILE=""<endif>
<if(parent.service.etcd&&parent.service.etcd.tls.ca)>FLANNELD_ETCD_CAFILE="<parent.certsDir>/<parent.service.etcd.tls.caName>"<else>FLANNELD_ETCD_CAFILE=""<endif>

# etcd config key.  This is the configuration key that flannel queries
# For address range assignment
FLANNEL_ETCD_PREFIX="<parent.service.etcd.prefix>"

# interface to use (IP or name) for inter-host communication.
FLANNEL_IFACE="<if(parent.service.binding)>--iface=<parent.service.binding.name><endif>"

# Any additional options that you want to pass
#FLANNEL_OPTIONS=""

>>
